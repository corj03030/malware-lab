#!/usr/bin/env bash
set -aux
shopt -s expand_aliases # enable aliases in shellfile
shopt -u dotglob        # disable dot globs
unalias -a              # unalias everything

SHELL_CONFIG_FILE=~/.zshrc # use zsh

cd
BASE="$PWD/malware-lab"            # sets base direcoty (can be anything)
CASES_DIR="$BASE/Cases"     # saving case files
SAMPLES_DIR="$BASE/Samples" # samples
TOOLS_DIR="$BASE/Tools"     # install tools here
WORKS_DIR="$BASE/Works"     # work here

mkdir -p $BASE
mkdir -p $CASES_DIR $SAMPLES_DIR $TOOLS_DIR $WORKS_DIR

echo 'PS1="%~:%# "' >>$SHELL_CONFIG_FILE # simplify PS1

# configurations
git config --global alias.d 'clone --depth 1' # [d]ownload
alias BI='brew install -q'
export NONINTERACTIVE=1
_get_app() {
    if [ ! -d /Applications/$2 ]; then
        pushd /tmp
        wget $1 -O _tmp_data.zip
        unzip -q _tmp_data.zip
        mv $2 /Applications
        rm _tmp_data.zip
        popd
    fi
}
