BUILD_DIR = _build
SCRIPT_FILENAME = install.sh
# 
install: generate
	echo "this requires sudo (normally you should be carefule not to execute Makefile w/ sudo)"
	sudo echo "installing... (input password)"

	./$(BUILD_DIR)/$(SCRIPT_FILENAME)
	echo "[*] DONE"

generate: scripts/*.sh
	if [ -d $(BUILD_DIR) ]; then rm -rf $(BUILD_DIR); fi
	mkdir $(BUILD_DIR) 
	touch $(BUILD_DIR)/$(SCRIPT_FILENAME)
	for file in ./scripts/*.sh; do cat $$file >> $(BUILD_DIR)/$(SCRIPT_FILENAME); echo "\n# ----\n" >> $(BUILD_DIR)/$(SCRIPT_FILENAME); done

	chmod +x ./$(BUILD_DIR)/$(SCRIPT_FILENAME)

