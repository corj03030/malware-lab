# xcode (file, strings, lldb, ...)
xcode-select -p || xcode-select --install

BI binwalk
BI sevenzip # 7-zip
BI yara     # yara
BI wget

# install vscodium 1.70.2.22230 manually
# upgrading may break the renderer (gpu related stuff) (vscode is broken)
# cf. https://github.com/microsoft/vscode/issues/154705
_get_app "https://github.com/VSCodium/vscodium/releases/download/1.70.2.22230/VSCodium-darwin-arm64-1.70.2.22230.zip" VSCodium.app
## vscodium config
defaults write com.visualstudio.code.oss ApplePressAndHoldEnabled -bool false

# install CyberChef
cd $TOOLS_DIR
## download requirements
BI node@16
which node || echo 'export PATH="/opt/homebrew/opt/node@16/bin:$PATH"' >> ~/.zshrc && source ~/.zshrc
sudo npm instal -g grunt-cli
## download source code
if [ ! -d CyberChef ]; then
    git d https://github.com/gchq/CyberChef.git
    cd CyberChef
    npm install 
    grunt prod # compile CyberChef
    cd ..
fi
